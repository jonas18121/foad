{% extends 'base.html.twig' %}

{% block title %}Accueil{% endblock %}

{% block body %}


<div class="example-wrapper">
    <h1>Accueil</h1>

    <h2>Gestion des élèves</h2>
        <a href="{{ path('eleve_add') }}">Ajouter un élève</a>

        <table class='table'>
            <thead>
                <tr>
                    <th>Prénom</th>
                    <th>Nom</th>
                    <th>Date de naissance</th>
                    <th>Moyenne</th>
                    <th>Appréciation</th>
                    <th>Afficher et Modifier</th>
                    <th>Supprimer</th>
                </tr>
            </thead>
            <tbody class='tbody'>
                {%  for eleve in eleves %}
                    <tr>
                        <td>{{ eleve.nom }}</td>
                        <td>{{ eleve.prenom }}</td>
                        <td>{{ eleve.dateNaissanceAt | date('d/m/Y H:i') }}</td>
                        <td>{{ eleve.moyenne }}</td>
                        <td>{{ eleve.appreciation }}</td>
                        <td><a href="{{ path('eleve_show', { 'id' : eleve.id } ) }}">Afficher et Modifier</a></td>
                        <td>
                            <form action="index.php?controleur=eleve&action=controleur_delete_eleve" method="post">
                                <div>
                                    <input type="hidden" name="delete" value="{{ eleve.id }}">
                                </div>

                                <div>
                                    <input type="submit" value="Supprimer">
                                </div>
                            </form>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
            <tfoot>
                <td colspan="3">nombres d'élèves : <?= $count_eleve->get_nb_eleve()  ?></td>
                <td> <?= $moyenne_classe->get_moyenne_classe() . ' / 20' ?></td>
            </tfoot>
        </table>
</div>
{% endblock %}
